<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Produits - Axion Lab 3D</title>

  <!-- FAVICON -->
  <link rel="icon" type="image/png" href="/favicon.png">
  <link rel="apple-touch-icon" href="/favicon.png">

  <!-- CSS -->
  <link rel="stylesheet" href="css/base.css">
  <link rel="stylesheet" href="css/style-produits.css">

  <!-- GOOGLE FONTS: Amatic SC (títulos/menu) + Quicksand (texto) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Amatic+SC:wght@400;700&family=Quicksand:wght@300;400&display=swap"
    rel="stylesheet">
</head>

<body class="page-produits">

  <!-- ===== HEADER ===== -->
  <header>
    <div class="header-content">
      <!-- Logo esquerdo -->
      <img src="images/logo.jpg" alt="Logo gauche" class="logo left-logo">

      <!-- Título + Menu -->
      <div class="title-nav">
        <h1>Axion Lab 3D</h1>
        <nav>
          <a href="accueil.html">Accueil</a>
          <a href="produits.html" class="active">Produits</a>
          <a href="apropos.html">À propos</a>
          <a href="contacts.html">Contacts</a>
        </nav>
      </div>

      <!-- Logo direito -->
      <img src="images/logo.jpg" alt="Logo droite" class="logo right-logo">
    </div>
  </header>

  <!-- ===== MAIN ===== -->
  <main>
    <section class="products-intro">
      <h2>Nos produits</h2>
      <p>
        Découvrez nos créations personnalisées, adaptées à vos besoins : cadeaux uniques, solutions industrielles,
        pièces pour l’automobile et projets sur mesure.
      </p>

      <!-- MENU DE CATEGORIAS DENTRO DA PÁGINA -->
      <nav class="products-nav">
        <a href="#cadeaux">Cadeaux</a>
        <a href="#industrie">Industrie</a>
        <a href="#voitures">Voitures</a>
        <a href="#autres">Autres</a>
      </nav>
    </section>

    <!-- ===== CATEGORIE : CADEAUX ===== -->
    <section id="cadeaux" class="products-section">
      <h3>Cadeaux</h3>
      <p class="section-desc">
        Objets personnalisés pour offrir : porte-clés, décorations, accessoires et petites attentions uniques.
      </p>
      <div class="products-grid" id="grid-cadeaux"></div>
    </section>

    <!-- ===== CATEGORIE : INDUSTRIE ===== -->
    <section id="industrie" class="products-section">
      <h3>Industrie</h3>
      <p class="section-desc">
        Pièces fonctionnelles, prototypage rapide et solutions adaptées aux besoins techniques.
      </p>
      <div class="products-grid" id="grid-industrie"></div>
    </section>

    <!-- ===== CATEGORIE : VOITURES ===== -->
    <section id="voitures" class="products-section">
      <h3>Voitures</h3>
      <p class="section-desc">
        Accessoires et pièces pour l’automobile : esthétiques, pratiques ou sur mesure.
      </p>
      <div class="products-grid" id="grid-voitures"></div>
    </section>

    <!-- ===== CATEGORIE : AUTRES ===== -->
    <section id="autres" class="products-section">
      <h3>Autres projets</h3>
      <p class="section-desc">
        Décorations, événements, mariages et tout projet spécial qui mérite une touche unique.
      </p>
      <div class="products-grid" id="grid-autres"></div>
    </section>
  </main>

  <!-- ===== FOOTER ===== -->
  <footer>
    <p>© 2025 Axion Lab 3D. Tous droits réservés.</p>
  </footer>

  <!-- ===== SCRIPT PARA CARREGAR OS PRODUTOS DO JSON (IMAGENS + VÍDEOS) ===== -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const grids = {
        cadeaux: document.getElementById('grid-cadeaux'),
        industrie: document.getElementById('grid-industrie'),
        voitures: document.getElementById('grid-voitures'),
        autres: document.getElementById('grid-autres')
      };

      fetch('produits.json')
        .then(response => {
          if (!response.ok) throw new Error('Erreur lors du chargement de produits.json');
          return response.json();
        })
        .then(produits => {
          produits.forEach(p => {
            const grid = grids[p.categorie];
            if (!grid) return;

            // Decide se mostra vídeo ou imagem
            let mediaHTML = '';

            if (p.video) {
              // Produto com vídeo local (ex: .mp4)
              mediaHTML = `
                <video
                  src="${p.video}"
                  controls
                  muted
                  playsinline
                  style="
                    width: 100%;
                    max-height: 150px;
                    object-fit: cover;
                    display: block;
                    border-radius: 0.6em;
                  "
                ></video>
              `;
            } else if (p.image) {
              // Produto com imagem
              mediaHTML = `
                <img src="${p.image}" alt="${p.titre}">
              `;
            } else {
              // Se não tiver nem video nem image, não mostra nada
              return;
            }

            const article = document.createElement('article');
            article.className = 'product-card';
            article.innerHTML = `
              <figure>
                ${mediaHTML}
                <figcaption>
                  <h4>${p.titre}</h4>
                  <p>${p.description}</p>
                </figcaption>
              </figure>
            `;
            grid.appendChild(article);
          });
        })
        .catch(console.error);
    });
  </script>

</body>
</html>
